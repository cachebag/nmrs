# Contributing

Thank you for wanting to contribute to `nmrs`!

I'm fairly accepting to all PR's, only with a couple caveats: 
- Do not submit low-effort or autogenerated code. If you absolutely must, please disclose _how_ you used AI otherwise I will close the PR.
- Please try to (when possible) contribute to an [issue](https://github.com/cachebag/nmrs/issues). Unless we've spoken about it otherwise, I prefer PR's to be linked to issues.

## Requirements

**To run or develop nmrs you need:**
- Rust (stable) via `rustup`
- GTK4 and libadwaita development libraries
- A running `NetworkManager` instance 
- A Wayland compositor 

## Guidelines

* Keep PRs focused and logically scoped.
* Avoid adding dependencies without discussion.
* Respect the existing module structure and conventions.
* CI must pass before merge.
* No more than 1-2 commits for most PR's. Always squash where necessary.
* If the respective branch for a PR goes out of sync, I prefer you _rebase_.
  I've automatically exposed this setting to you as a contributor so you can do this on any PR you open.

## Issues and Commit Message Hygiene
When you've made changes and are ready to commit, I prefer that you follow the standards explained [here](https://www.conventionalcommits.org/en/v1.0.0/).

I additionally request that you format your commits as such: <br>
"a bug fix((some issue number)): changes made to fix bug", <br> i.e.
```log
fix(#24): fixed bug where something was happening
```

All issues are acceptable. If a situation arises where a request or concern is not valid, I will respond directly to the issue. 


## Tests
All tests must pass before a merge takes place.

### Ensure NetworkManager is running
```bash
sudo systemctl start NetworkManager
```

### Test everything (unit + integration)
```bash
cargo test --all-features
```

### Integration tests
These require WiFi hardware. I'm currently thinking of a solution for this for CI but for now, please make sure you 
run this locally before your PR to ensure everything works.
```bash
cargo test --test integration_test --all-features
```

If you do not have access to WiFi hardware (for whatever odd reason that is), you can do something like this:
```bash
sudo modprobe mac80211_hwsim radios=2
cargo test --test integration_test --all-features
sudo modprobe -r mac80211_hwsim
```
> [!NOTE]
>
> This method only works on linux

## License

All contributions fall under the [MIT License](https://github.com/cachebag/nmrs?tab=MIT-1-ov-file).
